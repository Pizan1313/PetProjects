# Описание структуры базы данных для проекта Winelife

### Таблица `producer`

- `id`: Уникальный идентификатор производителя.
- `name`: Название производителя на латинице с диакритическими знаками.
- `original_name`: Название производителя на языке оригинала.
- `origin_id`: Идентификатор зоны производства.
- `info`: Информация о производителе.
- `image`: Фотографии винодела.
- `category`: Категория производителя (Negoсiant, Grower, RM, NM).
- `main_id`: Идентификатор главного производителя.
- `certificate_id`: Идентификатор сертификата производителя.
- `producer_image_id`: Идентификатор фотографии производителя.
- `status`: Статус производителя (Обычный, Хороший, Топовый).

### Таблица `origin`

- `id`: Уникальный идентификатор происхождения.
- `wine_country_id`: Идентификатор страны производства вина.
- `wine_region_id`: Идентификатор региона.
- `subregion_id`: Идентификатор субрегиона.
- `commune_id`: Идентификатор коммуны.
- `appellation_id`: Идентификатор названия аппелласьона.
- `vineyard_id`: Идентификатор названия виноградника.
- `class_of_cru_id`: Идентификатор названия класса вина.
- `lieu_dit_id`: Идентификатор названия льё-ди.

### Таблица `wine_country`

- `id`: Уникальный идентификатор страны производства вина.
- `title`: Название страны производства вина.
- `origin_image_id`: Идентификатор изображения места производства.
- `info`: Информация об этой стране.

### Таблица `wine_region`

- `id`: Уникальный идентификатор региона производства вина.
- `title`: Название региона производства вина.
- `wine_country_id`: Идентификатор страны производства вина.
- `origin_image_id`: Идентификатор фотографии места производства.
- `info`: Информация об этом месте.

### Таблица `subregion`

- `id`: Уникальный идентификатор субрегиона производства вина.
- `title`: Название субрегиона производства вина.
- `wine_region_id`: Идентификатор региона производства вина.
- `origin_image_id`: Идентификатор фотографии места производства.
- `info`: Информация об этом месте.

### Таблица `commune`

- `id`: Уникальный идентификатор коммуны производства вина.
- `title`: Название коммуны производства вина.
- `wine_region_id`: Идентификатор региона производства вина.
- `origin_image_id`: Идентификатор фотографии места производства.
- `info`: Информация об этом месте.

### Таблица `appellation`

- `id`: Уникальный идентификатор аппелласьона производства вина.
- `title`: Название аппелласьона производства вина.
- `wine_country_id`: Идентификатор страны производства вина.
- `wine_region_id`: Идентификатор региона производства вина.
- `origin_image_id`: Идентификатор фотографии места производства.
- `info`: Информация об этом аппелласьоне.

- ### Таблица `class_of_cru`

- `id`: Уникальный идентификатор класса крю.
- `title`: Название класса крю.
- `appellation_id`: Идентификатор аппелласьона производства вина.
- `origin_image_id`: Идентификатор изображения места производства.
- `info`: Информация об этом классе крю.

### Таблица `vineyard`

- `id`: Уникальный идентификатор виноградника производства вина.
- `title`: Название виноградника производства вина.
- `subregion_id`: Идентификатор субрегиона производства вина.
- `commune_id`: Идентификатор коммуны производства вина.
- `origin_image_id`: Идентификатор фотографии места производства.
- `info`: Информация об этом месте.

### Таблица `lieu_dit`

- `id`: Уникальный идентификатор льё-ди производства вина.
- `title`: Название льё-ди производства вина.
- `subregion_id`: Идентификатор субрегиона производства вина.
- `commune_id`: Идентификатор коммуны производства вина.
- `origin_image_id`: Идентификатор фотографии места производства.
- `info`: Информация об этом месте.

### Таблица `wine`

- `id`: Уникальный идентификатор вина.
- `producer_id`: Идентификатор производителя.
- `type_id`: Идентификатор типа вина.
- `wine_category_id`: Идентификатор категории вина.
- `cuvee_name`: Название вина с учетом диакритических знаков.
- `original_name`: Название вина на языке оригинала.
- `is_alcohol`: Алкогольное или нет.

### Таблица `wine_image`

- `id`: Уникальный идентификатор изображения вина.
- `title`: Название файла изображения.
- `type`: Тип фотографии (Бутылка, Этикетка, Контр-этикетка, Акцизная марка, Кольеретка).
- `image`: Изображение в формате BLOB.
- `creator_id`: Идентификатор пользователя, который добавил изображение.
- `created_at`: Дата загрузки изображения.

### Таблица `vintage`

- `id`: Уникальный идентификатор винтажа.
- `wine_id`: Идентификатор вина.
- `grape_id`: Идентификатор сорта винограда.
- `vintage_type_id`: Идентификатор типа винтажа.
- `dosage_id`: Идентификатор уровня сахара в вине.
- `origin_id`: Идентификатор зоны производства.
- `aging_type_id`: Идентификатор типа выдержки.
- `measure_id`: Идентификатор единицы измерения для продолжительности выдержки.
- `aging_length`: Продолжительность выдержки.
- `certificate_id`: Идентификатор сертификата вина.
- `sugar_content`: Содержание сахара в вине.
- `alcohol`: Содержание алкоголя в вине.
- `wine_image_id`: Идентификатор изображения вина.
- `drink_from`: Плато зрелости от (год).
- `drink_to`: Плато зрелости до (год).
- `rarity`: Редкость вина (Массовый продукт, Не редкое, Редкое, Очень редкое, «Единорог»).
- `critics_scr`: Оценка критиков (Низкие, Средние или отсутствуют, Высокие, Очень высокие, Самые высокие).

### Таблица `grape`

- `id`: Уникальный идентификатор сорта винограда.
- `main_id`: Идентификатор родительского сорта винограда.
- `title`: Название сорта винограда или его синонима.
- `percentage`: Процентное содержание винограда.

### Таблица `vintage_type`

- `id`: Уникальный идентификатор типа винтажа.
- `year`: Год урожая.
- `is_nv`: Флаг, указывающий, является ли вино невинтажным (True) или винтажным (False).
- `assemblage_year`: Для невинтажных вин, дата ассамбляжа.
- `assemblage_from`: Для невинтажных вин, список винтажей, из которых сделано вино.

### Таблица `dosage`

- `id`: Уникальный идентификатор уровня дозажа.
- `dosage_title`: Название дозажа.
- `dosage_year`: Дата дозажа (только для типа вина "игристые").
- `type_id`: Тип вина (для определения игристое вино или нет).

### Таблица `aging_type`

- `id`: Уникальный идентификатор типа выдержки.

### Таблица `aging_length_measure`

- `id`: Уникальный идентификатор единицы измерения для продолжительности выдержки (день, месяц, год, неделя).

### Таблица `certificate`

- `id`: Уникальный идентификатор сертификата.
- `title`: Название сертификата.
- `logo`: Логотип сертификата.
- `info`: Информация об этом сертификате.

### Таблица `type_of_wine`

- `id`: Уникальный идентификатор типа вина.
- `color`: Цвет вина (Белое, Красное, Розовое, Оранжевое).
- `type`: Тип вина (Тихое, Игристое, Сладкое/Креплёное).
- `prod_method`: Метод производства (Классический, Акратофорный, Пет-Нат, Col Fondo).
- `variation`: Разновидность крепкого/сладкого вина (если игристое или тихое).

### Таблица `vintage_to_wine_list`

- `vintage_id`: Идентификатор винтажа.
- `wine_list_id`: Идентификатор винной карты.
- `volume_id`: Идентификатор объёма вина.
- `currency_id`: Идентификатор валюты, в которой измеряется вино.
- `price`: Стоимость вина в винной карте.
- `wine_added`: Дата добавления винной карты.
- `is_deleted`: Удалено или нет.
- `date_deleted`: Дата удаления из винной карты.
- `cellar_1`: Погреб №1.
- `bin_1`: Место вина в погребе №1.
- `cellar_2`: Погреб №2.
- `bin_2`: Место вина в погребе №2.
- `cellar_3`: Погреб №3.
- `bin_3`: Место вина в погребе №3.
- `qty`: Количество этого вина в винной карте.
- `cost`: Последняя себестоимость.
- `shipper_id`: Идентификатор поставщика, у которого было куплено вино.
- `pos_id`: Идентификатор для привязки вина к PoS.
- `egais_id`: Идентификатор товара в системе ЕГАИС.

### Таблица `wine_list`

- `id`: Уникальный идентификатор винной карты.
- `title`: Название винной карты.
- `last_edition`: Дата последнего изменения.
- `est_id`: Идентификатор бизнеса, к которому принадлежит эта винная карта.

### Таблица `volume`

- `id`: Уникальный идентификатор объема (бутылка, бокал).
- `volume_type`: Тип объема (Бутылка, Бокал).
- `measure_type`: Тип измерения объема (литры, миллилитры, унции).
- `glass`: Объем бокала.
- `btl`: Объем бутылки.

### Таблица `volume`

- `id`: Уникальный идентификатор объема (бутылка, бокал).
- `volume_type`: Тип объема (Бутылка, Бокал).
- `measure_type`: Тип измерения объема (литры, миллилитры, унции).
- `glass`: Объем бокала.
- `btl`: Объем бутылки.

### Таблица `currency`

- `id`: Уникальный идентификатор валюты.
- `title`: Название валюты.
- `sign`: Символ валюты.
- `abbreviation`: Аббревиатура валюты.

### Таблица `shipper`

- `id`: Уникальный идентификатор поставщика.
- `title`: Название поставщика.
- `off_name`: Название организации.
- `manager`: Имя менеджера.
- `phone`: Телефон.
- `email`: Почтовый адрес.

### Таблица `egais`

- `id`: Уникальный идентификатор товара в системе ЕГАИС.
- `number`: Код вина в системе ЕГАИС.
- `qr`: QR-код ЕГАИС вина на бутылке.
- `barcode`: Штрих-код ЕГАИС вина на бутылке.
- `title`: Официальное название товара в системе ЕГАИС.

### Таблица `pos`

- `id`: Уникальный идентификатор Point of Sale (PoS).

### Таблица `establishment`

- `id`: Уникальный идентификатор заведения (ресторан, бар и т. д.).

### Таблица `origin_commune`
<b> В этой таблице хранится связь между местом происхождения вина и коммунами, в которых может быть собран виноград.</b>

- `origin_id`: Уникальный идентификатор места происхождения.
- `commune_id`: Уникальный идентификатор коммуны.

### Таблица `origin_vineyard`
<b> Эта таблица устанавливает связь между местом происхождения вина и виноградниками, откуда собирается виноград.</b>

- `origin_id`: Уникальный идентификатор места происхождения.
- `vineyard_id`: Уникальный идентификатор виноградника.

### Таблица `origin_lieu_dit`
<b> Здесь хранится информация о связи между местом происхождения вина и льё-ди, откуда собирается виноград.</b>

- `origin_id`: Уникальный идентификатор места происхождения.
- `lieu_dit_id`: Уникальный идентификатор льё-ди.

### Таблица `vintage_grape_blend`
<b> Эта таблица связывает вино с сортами винограда, из которых оно было произведено.</b>

- `vintage_id`: Уникальный идентификатор вина.
- `grape_id`: Уникальный идентификатор сорта винограда.

### Таблица `vintage_wine_image`
<b> Здесь хранятся связи между винтажами и изображениями вина.</b>

- `vintage_id`: Уникальный идентификатор винтажа.
- `wine_image_id`: Уникальный идентификатор изображения вина.

### Таблица `producer_producer_image`
<b> Эта таблица позволяет связать винодела с фотографиями его винодельни.</b>

- `producer_id`: Уникальный идентификатор винодела.
- `producer_image_id`: Уникальный идентификатор фотографий винодельни.

### Таблица `producer_to_shipper`
<b> В этой таблице устанавливаются связи между виноделами и поставщиками.</b>

- `producer_id`: Уникальный идентификатор винодела.
- `shipper_id`: Уникальный идентификатор поставщика.

### Таблица `vintage_quality`
<b> Эта таблица описывает качество винтажей в зависимости от места происхождения.</b>

- `vintage_type_id`: Уникальный идентификатор типа винтажа.
- `origin_id`: Уникальный идентификатор места происхождения.
- `title`: Категория качества винтажа (Слабый, Посредственный, Хороший, Великий, Классический).

### Таблица `wine_category`
<b> Эта таблица позволяет категоризировать вина в зависимости от страны производства и имеет иерархическую структуру.</b>

- `id`: Уникальный идентификатор винной категории.
- `wine_country_id`: Уникальный идентификатор страны производства вина.
- `main_id`: Уникальный идентификатор родительской категории (ссылается на саму себя).
- `title`: Название категории вина.
- `image`: Фотография категории.
- `info`: Информация об этой категории.

Это описание ключевых таблиц в базе данных "Winelife". Дополнительные детали и взаимосвязи между таблицами можно найти в структуре базы данных.

